@model StudentManagement.ViewModels.StudentDashboardViewModel
@{
    ViewData["Title"] = "Student Dashboard";
}

<!-- Student Dashboard Header -->
<div class="bg-gradient-to-r from-blue-500 to-cyan-600 rounded-2xl shadow-lg text-white p-6 mb-8" data-aos="fade-up">
    <div class="flex items-center justify-between">
        <div>
            <h1 class="text-3xl font-bold mb-2">üë®‚Äçüéì Sinh vi√™n</h1>
            <p class="text-blue-100">@Model.WelcomeMessage</p>
        </div>
        <div class="text-right">
            <p class="text-sm text-blue-200">GPA hi·ªán t·∫°i</p>
            <p class="text-2xl font-bold">@Model.CurrentGPA.ToString("F1")</p>
        </div>
    </div>
</div>

<!-- Statistics Cards Grid -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    @foreach (var stat in Model.Statistics)
    {
        <div class="bg-white rounded-2xl shadow-md border border-gray-100 p-6 hover:shadow-lg transition-shadow duration-300" data-aos="fade-up" data-aos-delay="@(Model.Statistics.IndexOf(stat) * 100)">
            <div class="flex items-center justify-between mb-4">
                <div class="text-2xl">@stat.Icon</div>
                @if (!string.IsNullOrEmpty(stat.Change) && stat.Change != "0")
                {
                    <div class="text-sm font-medium text-@(stat.Color)-600 bg-@(stat.Color)-50 px-2 py-1 rounded-full">
                        @stat.Change
                    </div>
                }
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-1">@stat.Value</h3>
            <p class="text-gray-600 text-sm">@stat.Title</p>
        </div>
    }
</div>

<!-- Main Content Grid -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    
    <!-- Quick Actions & Current Enrollments -->
    <div class="lg:col-span-2">
        <!-- Quick Actions -->
        <div class="bg-white rounded-2xl shadow-md border border-gray-100 p-6 mb-6" data-aos="fade-right">
            <h2 class="text-xl font-bold text-gray-900 mb-6 flex items-center">
                üöÄ T√≠nh nƒÉng ch√≠nh
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                @foreach (var action in Model.QuickActions)
                {
                    <a href="@action.ActionUrl" class="group">
                        <div class="border-2 border-gray-100 rounded-xl p-4 hover:border-@(action.Color)-200 hover:bg-@(action.Color)-50 transition-all duration-300">
                            <div class="flex items-center space-x-3">
                                <div class="text-2xl">@action.Icon</div>
                                <div class="flex-1">
                                    <h3 class="font-semibold text-gray-900 group-hover:text-@(action.Color)-700">@action.Title</h3>
                                    <p class="text-sm text-gray-600 group-hover:text-@(action.Color)-600">@action.Description</p>
                                </div>
                                <div class="text-@(action.Color)-400 group-hover:text-@(action.Color)-600">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </a>
                }
            </div>
        </div>
        
        <!-- Current Semester Schedule -->
        <div class="bg-white rounded-2xl shadow-md border border-gray-100 p-6" data-aos="fade-right" data-aos-delay="200">
            <h2 class="text-xl font-bold text-gray-900 mb-6 flex items-center">
                üìÖ Th·ªùi kh√≥a bi·ªÉu h·ªçc k·ª≥ hi·ªán t·∫°i
            </h2>
            <div class="space-y-4">
                <div class="border border-blue-200 rounded-xl p-4 bg-blue-50">
                    <div class="flex items-center justify-between mb-3">
                        <h3 class="font-semibold text-blue-900">CSD201 - Data Structures</h3>
                        <span class="text-xs bg-green-200 text-green-800 px-2 py-1 rounded-full">ƒêang h·ªçc</span>
                    </div>
                    <div class="grid grid-cols-2 gap-4 text-sm">
                        <div>
                            <span class="text-gray-600">L·ªãch h·ªçc:</span>
                            <span class="font-medium">T4-T7, Slot 2</span>
                        </div>
                        <div>
                            <span class="text-gray-600">Ph√≤ng:</span>
                            <span class="font-medium">AL-R302</span>
                        </div>
                        <div>
                            <span class="text-gray-600">Gi·∫£ng vi√™n:</span>
                            <span class="font-medium">L√™ C∆∞·ªùng</span>
                        </div>
                        <div>
                            <span class="text-gray-600">ƒêi·ªÉm hi·ªán t·∫°i:</span>
                            <span class="font-medium text-green-600">8.2</span>
                        </div>
                    </div>
                </div>
                
                <div class="border border-purple-200 rounded-xl p-4 bg-purple-50">
                    <div class="flex items-center justify-between mb-3">
                        <h3 class="font-semibold text-purple-900">PRN211 - .NET Programming</h3>
                        <span class="text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full">S·∫Øp thi</span>
                    </div>
                    <div class="grid grid-cols-2 gap-4 text-sm">
                        <div>
                            <span class="text-gray-600">L·ªãch h·ªçc:</span>
                            <span class="font-medium">T3-T6, Slot 4</span>
                        </div>
                        <div>
                            <span class="text-gray-600">Ph√≤ng:</span>
                            <span class="font-medium">BE-R101</span>
                        </div>
                        <div>
                            <span class="text-gray-600">Gi·∫£ng vi√™n:</span>
                            <span class="font-medium">Tr·∫ßn ƒê·∫°t</span>
                        </div>
                        <div>
                            <span class="text-gray-600">ƒêi·ªÉm hi·ªán t·∫°i:</span>
                            <span class="font-medium text-blue-600">7.5</span>
                        </div>
                    </div>
                </div>
                
                <div class="text-center">
                    <a href="/Student/Schedule" class="text-blue-600 hover:text-blue-700 font-medium">
                        Xem th·ªùi kh√≥a bi·ªÉu ƒë·∫ßy ƒë·ªß ‚Üí
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notifications & AI Analysis -->
    <div class="space-y-6">
        <!-- Wallet -->
        <div class="bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl shadow-lg text-white p-6" data-aos="fade-left">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-bold">üí∞ V√≠ h·ªçc ph√≠</h2>
                <div class="text-2xl">üí≥</div>
            </div>
            <div class="text-3xl font-bold mb-2">@Model.WalletBalance.ToString("N0") VND</div>
            <p class="text-yellow-100 text-sm mb-4">S·ªë d∆∞ kh·∫£ d·ª•ng</p>
            <div class="flex space-x-2">
                <a href="/Student/Wallet/Deposit" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-sm font-medium transition-all">
                    N·∫°p ti·ªÅn
                </a>
                <a href="/Student/Wallet/History" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-sm font-medium transition-all">
                    L·ªãch s·ª≠
                </a>
            </div>
        </div>
        
        <!-- Notifications -->
        <div class="bg-white rounded-2xl shadow-md border border-gray-100 p-6" data-aos="fade-left" data-aos-delay="200">
            <h2 class="text-xl font-bold text-gray-900 mb-6 flex items-center">
                üîî Th√¥ng b√°o
            </h2>
            <div class="space-y-4">
                @foreach (var notification in Model.Notifications)
                {
                    <div class="border-l-4 border-@(notification.Type == "success" ? "green" : notification.Type == "warning" ? "yellow" : notification.Type == "error" ? "red" : "blue")-400 bg-@(notification.Type == "success" ? "green" : notification.Type == "warning" ? "yellow" : notification.Type == "error" ? "red" : "blue")-50 p-4 rounded-r-lg">
                        <h3 class="font-semibold text-gray-900">@notification.Title</h3>
                        <p class="text-sm text-gray-600 mt-1">@notification.Message</p>
                        <p class="text-xs text-gray-500 mt-2">@notification.CreatedAt.ToString("dd/MM HH:mm")</p>
                    </div>
                }
            </div>
        </div>
        
        <!-- AI Analysis -->
        <div class="bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl shadow-lg text-white p-6" data-aos="fade-left" data-aos-delay="400">
            <h2 class="text-lg font-bold mb-4 flex items-center">
                ü§ñ AI Ph√¢n t√≠ch h·ªçc t·∫≠p
            </h2>
            <div class="space-y-4">
                <div class="bg-white bg-opacity-10 rounded-lg p-4">
                    <div class="flex items-center space-x-2 mb-2">
                        <div class="text-green-400">‚ú®</div>
                        <span class="font-medium">ƒêi·ªÉm m·∫°nh</span>
                    </div>
                    <p class="text-sm text-purple-100">B·∫°n th·ªÉ hi·ªán t·ªët ·ªü m√¥n C·∫•u tr√∫c d·ªØ li·ªáu v√† Gi·∫£i thu·∫≠t</p>
                </div>
                
                <div class="bg-white bg-opacity-10 rounded-lg p-4">
                    <div class="flex items-center space-x-2 mb-2">
                        <div class="text-yellow-400">‚ö†Ô∏è</div>
                        <span class="font-medium">C·∫ßn c·∫£i thi·ªán</span>
                    </div>
                    <p class="text-sm text-purple-100">N√™n d√†nh th√™m th·ªùi gian cho m√¥n L·∫≠p tr√¨nh .NET</p>
                </div>
                
                <div class="bg-white bg-opacity-10 rounded-lg p-4">
                    <div class="flex items-center space-x-2 mb-2">
                        <div class="text-blue-400">üí°</div>
                        <span class="font-medium">G·ª£i √Ω</span>
                    </div>
                    <p class="text-sm text-purple-100">H√£y tham gia th√™m c√°c d·ª± √°n th·ª±c h√†nh</p>
                </div>
            </div>
            <div class="mt-4">
                <a href="/Student/AIAnalysis" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-sm font-medium transition-all inline-block">
                    Xem chi ti·∫øt ‚Üí
                </a>
            </div>
        </div>
        
        <!-- Study Progress -->
        <div class="bg-white rounded-2xl shadow-md border border-gray-100 p-6" data-aos="fade-left" data-aos-delay="600">
            <h2 class="text-xl font-bold text-gray-900 mb-6 flex items-center">
                üìà Ti·∫øn ƒë·ªô h·ªçc t·∫≠p
            </h2>
            <div class="space-y-4">
                <div class="flex items-center justify-between">
                    <span class="text-gray-600">T√≠n ch·ªâ ho√†n th√†nh</span>
                    <span class="font-semibold text-blue-600">45/120</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div class="bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full" style="width: 37.5%"></div>
                </div>
                
                <div class="flex items-center justify-between">
                    <span class="text-gray-600">GPA Target</span>
                    <span class="font-semibold text-green-600">7.8/8.0</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div class="bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full" style="width: 97.5%"></div>
                </div>
                
                <div class="flex items-center justify-between">
                    <span class="text-gray-600">H·ªçc k·ª≥ ho√†n th√†nh</span>
                    <span class="font-semibold text-purple-600">3/8</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div class="bg-gradient-to-r from-purple-500 to-purple-600 h-3 rounded-full" style="width: 37.5%"></div>
                </div>
            </div>
        </div>
        
        <!-- Upcoming Tasks -->
        <div class="bg-white rounded-2xl shadow-md border border-gray-100 p-6" data-aos="fade-left" data-aos-delay="800">
            <h2 class="text-xl font-bold text-gray-900 mb-6 flex items-center">
                ‚è∞ S·∫Øp t·ªõi
            </h2>
            <div class="space-y-3">
                <div class="flex items-center space-x-3 p-3 bg-red-50 rounded-lg">
                    <div class="text-red-600">üí∏</div>
                    <div>
                        <p class="font-medium text-gray-900">H·∫°n ƒë√≥ng h·ªçc ph√≠</p>
                        <p class="text-sm text-red-600">5 ng√†y n·ªØa</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-3 p-3 bg-blue-50 rounded-lg">
                    <div class="text-blue-600">üìö</div>
                    <div>
                        <p class="font-medium text-gray-900">Thi gi·ªØa k·ª≥ PRN211</p>
                        <p class="text-sm text-blue-600">10 ng√†y n·ªØa</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-3 p-3 bg-green-50 rounded-lg">
                    <div class="text-green-600">üìù</div>
                    <div>
                        <p class="font-medium text-gray-900">ƒêƒÉng k√Ω m√¥n h·ªçc</p>
                        <p class="text-sm text-green-600">M·ªü t·ª´ 15/02</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- AOS Animation Script -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    AOS.init({
        duration: 800,
        once: true
    });
</script>